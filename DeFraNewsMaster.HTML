async function playNext() {
            if (currentIndex === 0) await updatePlaylist();

            const now = new Date();
            
            // Filter the playlist: only show items where NOW is between start and end
            // If no start/end is provided, it will show the item by default
            const activeArticles = playlist.filter(item => {
                const startDate = item.start ? new Date(item.start) : new Date(0);
                const endDate = item.end ? new Date(item.end) : new Date(8640000000000000);
                return now >= startDate && now <= endDate;
            });

            if (activeArticles.length > 0) {
                const currentArticle = activeArticles[currentIndex % activeArticles.length];
                const targetUrl = currentArticle.url;
                
                frame.src = targetUrl + (targetUrl.includes('?') ? '&' : '?') + "v=" + Date.now();
                currentIndex = (currentIndex + 1) % activeArticles.length;
            } else {
                document.body.innerHTML = "<div style='color:white; font-family:sans-serif; padding:40px;'><h2>Geen actieve berichten</h2><p>Alle berichten zijn verlopen of nog niet gestart.</p></div>";
                setTimeout(playNext, 10000); // Check again in 10 seconds
            }
        }
